# ====================
# DATABASE CONFIGURATION
# ====================

# PostgreSQL connection details
DB_HOST=81.30.105.134
DB_PORT=5419
DB_NAME=zamer_sys
DB_USER=admin
DB_PASSWORD=Password123

# ====================
# WORKER CONFIGURATION
# ====================

# Количество Browser Workers (парсинг каталогов и объявлений)
TOTAL_BROWSER_WORKERS=12

# Количество Validation Workers (механическая и ИИ валидация)
TOTAL_VALIDATION_WORKERS=12

# Размер буфера каталогов (мин. артикулов со спарсенными каталогами)
# Если buffer < CATALOG_BUFFER_SIZE → приоритет catalog_task
# Если buffer >= CATALOG_BUFFER_SIZE → приоритет object_task
CATALOG_BUFFER_SIZE=12

# ====================
# HEARTBEAT CONFIGURATION
# ====================

# Таймаут задачи в секундах (зависшие задачи возвращаются в очередь)
HEARTBEAT_TIMEOUT_SECONDS=1800

# Интервал обновления heartbeat воркером (секунды)
HEARTBEAT_UPDATE_INTERVAL=60

# Интервал проверки зависших задач фоновой задачей (секунды)
HEARTBEAT_CHECK_INTERVAL=120

# ====================
# CATALOG PARSING
# ====================

# Максимальное количество страниц каталога для парсинга
CATALOG_MAX_PAGES=10

# Сохранять ли raw HTML каталогов (true/false)
CATALOG_INCLUDE_HTML=false

# ====================
# OBJECT PARSING
# ====================

# Сохранять ли raw HTML карточек объявлений (true/false)
OBJECT_INCLUDE_HTML=false

# Пропустить парсинг объявлений (только валидация) (True/False)
SKIP_OBJECT_PARSING=True

# ====================
# REPARSE MODE
# ====================

# Режим повторного парсинга (только ранее спарсенные объявления) (true/false)
REPARSE_MODE=false

# Минимальный интервал между парсингами одного объявления (часы)
MIN_REPARSE_INTERVAL_HOURS=24

# ====================
# VALIDATION CONFIGURATION
# ====================

# Минимальная цена объявления (руб.)
MIN_PRICE=8000.0

# Минимальное количество объявлений после каждого этапа валидации
MIN_VALIDATED_ITEMS=5

# Минимальное количество отзывов продавца (0 = отключено)
MIN_SELLER_REVIEWS=0

# Включить валидацию по цене (IQR метод) (true/false)
ENABLE_PRICE_VALIDATION=true

# Требовать наличие артикула в названии или описании (true/false)
REQUIRE_ARTICULUM_IN_TEXT=true

# Включить ИИ-валидацию через Gemini (true/false)
ENABLE_AI_VALIDATION=true

# ====================
# VERTEX AI (GOOGLE GEMINI)
# ====================

# Google Cloud Project ID
VERTEX_AI_PROJECT_ID=gen-lang-client-0026618973

# Google Cloud Location (регион)
VERTEX_AI_LOCATION=us-central1

# Модель Gemini для ИИ-валидации
VERTEX_AI_MODEL=google/gemini-2.5-flash

# Путь к файлу credentials (относительно контейнера, не менять)
# GOOGLE_APPLICATION_CREDENTIALS=/app/gen-lang-client-0026618973-4dbdd3b53fdc.json

# ====================
# XVFB CONFIGURATION
# ====================

# Номер первого виртуального дисплея
XVFB_DISPLAY_START=99

# Разрешение виртуальных дисплеев
XVFB_RESOLUTION=1920x1080x24

# ====================
# PROXY CONFIGURATION
# ====================

# Таймаут ожидания свободного прокси (секунды)
PROXY_WAIT_TIMEOUT=10
